(function(e){function t(t){for(var r,i,s=t[0],o=t[1],u=t[2],d=0,b=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var o=n[s];0!==c[o]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},c={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/tss-admin/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1:function(e,t){},2:function(e,t){},"2deb":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n("d4ec"),c=n("bee2"),a=(n("b680"),n("a9e3"),n("a34b")),i=n("7a61"),s=n("901e"),o=n.n(s),u=function(){function t(e,n,c,a,i,s,o,u){Object(r["a"])(this,t),this.url=e,this.turret=n,this.network=c,this.horizon=a,this.runner=i,this.version=s,this.fee=o,this.divisor=u,this.toml=""}return Object(c["a"])(t,[{key:"calculateUploadFee",value:function(e){return new o.a(0).plus(this.calculateContractLengthFee(e)).plus(this.calculateFieldsFee(e)).toFixed(7)}},{key:"calculateContractLengthFee",value:function(e){return e.txFunction.length/Number(this.divisor.upload)}},{key:"calculateFieldsFee",value:function(t){var n=btoa(JSON.stringify(t.txFunctionFields)),r=e.from(n,"base64");return r.length/Number(this.divisor.upload)}},{key:"calculateRunFee",value:function(){return Number(this.divisor.run)}}],[{key:"createNull",value:function(){return new t("","","","","","",a["a"].createNull(),i["a"].createNull())}}]),t}()}).call(this,n("b639").Buffer)},3:function(e,t){},4:function(e,t){},"7a61":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("d4ec"),c=n("bee2"),a=function(){function e(t,n){Object(r["a"])(this,e),this.upload=t,this.run=n}return Object(c["a"])(e,null,[{key:"createNull",value:function(){return new e("","")}}]),e}()},a34b:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("d4ec"),c=n("bee2"),a=function(){function e(t,n){Object(r["a"])(this,e),this.min=t,this.max=n}return Object(c["a"])(e,null,[{key:"createNull",value:function(){return new e("","")}}]),e}()},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={class:"home m-10"},a={for:"private-key"},i=Object(r["g"])("span",{class:"block text-gray-700 text-sm font-bold mb-2"}," Private key (this will be used to create your XDR token and fund turrets) ",-1),s={class:"block text-gray-700 text-sm font-bold mb-2"},o={id:"turret-ops",class:"mb-5"},u=Object(r["h"])("Upload contract"),l=Object(r["h"])("Create XDR Token"),d=Object(r["h"])("Manage Turret funds"),b=Object(r["h"])("View & Run functions"),p={key:1};function O(e,t,n,O,j,h){var f=Object(r["z"])("TurretForm"),g=Object(r["z"])("Card"),m=Object(r["z"])("AppButton"),x=Object(r["z"])("router-link"),y=Object(r["z"])("router-view");return Object(r["s"])(),Object(r["f"])("div",c,[Object(r["i"])(f,{onLoaded:e.setTurret},null,8,["onLoaded"]),Object(r["i"])(g,null,{default:Object(r["G"])((function(){return[Object(r["g"])("label",a,[i,Object(r["H"])(Object(r["g"])("input",{id:"private-key","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$store.state.privateKey=t}),class:"\n            shadow\n            appearance-none\n            border\n            rounded\n            w-full\n            py-2\n            px-3\n            text-gray-700\n            leading-tight\n            focus:outline-none focus:shadow-outline\n          ",type:"text"},null,512),[[r["E"],e.$store.state.privateKey]]),Object(r["g"])("span",s," Public key "+Object(r["B"])(e.$store.getters.keypair.publicKey()),1)])]})),_:1}),Object(r["g"])("div",o,[Object(r["i"])(x,{to:"/"},{default:Object(r["G"])((function(){return[Object(r["i"])(m,{class:"mr-2"},{default:Object(r["G"])((function(){return[u]})),_:1})]})),_:1}),Object(r["i"])(x,{to:"/xdr-token"},{default:Object(r["G"])((function(){return[Object(r["i"])(m,{class:"mr-2"},{default:Object(r["G"])((function(){return[l]})),_:1})]})),_:1}),Object(r["i"])(x,{to:"/turret-funds"},{default:Object(r["G"])((function(){return[Object(r["i"])(m,{class:"mr-2"},{default:Object(r["G"])((function(){return[d]})),_:1})]})),_:1}),Object(r["i"])(x,{to:"/tx-functions"},{default:Object(r["G"])((function(){return[Object(r["i"])(m,{class:"mr-2"},{default:Object(r["G"])((function(){return[b]})),_:1})]})),_:1})]),e.turret.turret&&e.$store.state.privateKey?(Object(r["s"])(),Object(r["d"])(y,{key:0})):(Object(r["s"])(),Object(r["f"])("p",p," Waiting for turret information to be loaded and private key to be entered "))])}var j=n("d4ec"),h=n("bee2"),f=n("262e"),g=n("2caf"),m=n("9ab4"),x=n("ce1f"),y={for:"turret-url"},v=Object(r["g"])("span",{class:"block text-gray-700 text-sm font-bold mb-2"}," Turret url ",-1),w={key:0},k=Object(r["g"])("br",null,null,-1),F={key:0,class:"turret"},T=Object(r["h"])(" Turret address: "),B=Object(r["h"])(" Turret url: "),U=Object(r["h"])(" Turret network: "),C=Object(r["h"])(" Horizon url: "),R=["href"],_=Object(r["h"])(" Runner: "),E=["href"],X=Object(r["h"])(" Version: "),V={class:"fee"},L=Object(r["g"])("h2",null,"Fee",-1),$=Object(r["h"])(" Min: "),A=Object(r["h"])(" Max: "),H={class:"divisor"},N=Object(r["g"])("h2",null,"Divisor",-1),P=Object(r["h"])(" Upload: "),S=Object(r["h"])(" Run: "),D={class:"toml"};function I(e,t,n,c,a,i){var s=this,o=Object(r["z"])("AppButton"),u=Object(r["z"])("Card");return Object(r["s"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(u,null,{default:Object(r["G"])((function(){return[Object(r["g"])("form",{action:"#",onSubmit:t[1]||(t[1]=Object(r["I"])((function(){return e.loadTurret&&e.loadTurret.apply(e,arguments)}),["prevent"]))},[Object(r["g"])("label",y,[v,Object(r["H"])(Object(r["g"])("input",{id:"turret-url","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.turretUrl=t}),class:"\n            shadow\n            appearance-none\n            border\n            rounded\n            w-full\n            py-2\n            px-3\n            text-gray-700\n            leading-tight\n            focus:outline-none focus:shadow-outline\n          ",type:"text"},null,512),[[r["E"],e.turretUrl]])]),Object(r["i"])(o,{onClick:e.loadTurret},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isLoading?"Loading...":"Fetch"),1)]})),_:1},8,["onClick"])],32),""!==e.turret.turret?(Object(r["s"])(),Object(r["f"])("p",w,[Object(r["g"])("strong",null,"Loaded turret "+Object(r["B"])(e.turret.turret),1),k,Object(r["g"])("a",{href:"#",onClick:t[2]||(t[2]=Object(r["I"])((function(e){return s.showDetails=!s.showDetails}),["prevent"]))},Object(r["B"])(s.showDetails?"Hide details":"Show details"),1)])):Object(r["e"])("",!0)]})),_:1}),e.showDetails?(Object(r["s"])(),Object(r["f"])("div",F,[Object(r["i"])(u,null,{default:Object(r["G"])((function(){return[Object(r["g"])("p",null,[T,Object(r["g"])("strong",null,Object(r["B"])(e.turret.turret),1)]),Object(r["g"])("p",null,[B,Object(r["g"])("strong",null,Object(r["B"])(e.turret.url),1)]),Object(r["g"])("p",null,[U,Object(r["g"])("strong",null,Object(r["B"])(e.turret.network),1)]),Object(r["g"])("p",null,[C,Object(r["g"])("a",{href:e.turret.horizon,class:"underline"},[Object(r["g"])("strong",null,Object(r["B"])(e.turret.horizon),1)],8,R)]),Object(r["g"])("p",null,[_,Object(r["g"])("a",{href:e.turret.runner,class:"underline"},[Object(r["g"])("strong",null,Object(r["B"])(e.turret.runner),1)],8,E)]),Object(r["g"])("p",null,[X,Object(r["g"])("strong",null,Object(r["B"])(e.turret.version),1)]),Object(r["g"])("div",V,[L,Object(r["g"])("p",null,[$,Object(r["g"])("strong",null,Object(r["B"])(e.turret.fee.min),1)]),Object(r["g"])("p",null,[A,Object(r["g"])("strong",null,Object(r["B"])(e.turret.fee.max),1)])]),Object(r["g"])("div",H,[N,Object(r["g"])("p",null,[P,Object(r["g"])("strong",null,Object(r["B"])(e.turret.divisor.upload),1)]),Object(r["g"])("p",null,[S,Object(r["g"])("strong",null,Object(r["B"])(e.turret.divisor.run),1)])]),Object(r["g"])("div",D,[Object(r["g"])("pre",null,Object(r["B"])(e.turret.toml),1)])]})),_:1})])):Object(r["e"])("",!0)],64)}var z=n("1da1"),K=(n("96cf"),n("2deb")),G={class:"\n      bg-white\n      border-2 border-gray-300\n      shadow-xl\n      rounded\n      px-8\n      pt-6\n      pb-8\n      mb-8\n    "};function M(e,t,n,c,a,i){return Object(r["s"])(),Object(r["f"])("div",G,[Object(r["y"])(e.$slots,"default")])}var J=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return n}(x["b"]);J.render=M;var q=J,Y={enctype:"multipart/form-data"},W={for:"contract"},Q=Object(r["g"])("span",{class:"block text-gray-700 text-sm font-bold mb-2"}," Contract ",-1);function Z(e,t,n,c,a,i){var s=Object(r["z"])("Card");return Object(r["s"])(),Object(r["f"])("div",null,[Object(r["i"])(s,null,{default:Object(r["G"])((function(){return[Object(r["g"])("form",Y,[Object(r["g"])("label",W,[Q,Object(r["g"])("input",{id:"contract",class:"\n              shadow\n              appearance-none\n              border\n              rounded\n              w-full\n              py-2\n              px-3\n              text-gray-700\n              leading-tight\n              focus:outline-none focus:shadow-outline\n            ",type:"file",onChange:t[0]||(t[0]=function(){return e.loadContract&&e.loadContract.apply(e,arguments)})},null,32)])])]})),_:1})])}n("d3b7"),n("25f0");var ee=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.contractCode="",e}return Object(h["a"])(n,[{key:"loadContract",value:function(){var e=this,t=document.querySelector("#contract").files,n=t?t[0]:null;if(n){var r=new FileReader;r.readAsText(n,"UTF-8"),r.onload=function(t){var n;null!==(n=t.target)&&void 0!==n&&n.result&&(e.contractCode=t.target.result.toString(),e.$emit("loaded",e.contractCode))},r.onerror=function(e){console.error(e)}}}}]),n}(x["b"]);ee=Object(m["__decorate"])([Object(x["a"])({components:{Card:q},emits:["loaded"],props:{turret:{type:K["a"]}}})],ee);var te=ee;te.render=Z;var ne=te,re=n("b85c"),ce=n("3835"),ae=(n("3ca3"),n("ddb0"),n("99af"),n("7a61")),ie=n("a34b");function se(e,t){var n=e.divisor,r=n.upload,c=n.run,a=e.fee,i=a.min,s=a.max;return new K["a"](t,e.turret,e.network,e.horizon,e.runner,e.version,new ie["a"](i,s),new ae["a"](r,c))}var oe=n("79e2");function ue(e){switch(e){case"TESTNET":return oe["Networks"].TESTNET;case"PUBLIC":return oe["Networks"].PUBLIC;default:throw new Error("Unknown network ".concat(e))}}var le=n("9072"),de=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(e){var r;return Object(j["a"])(this,n),r=t.call(this,e),r.json=JSON.parse(e),r}return n}(Object(le["a"])(Error));function be(e){return pe.apply(this,arguments)}function pe(){return pe=Object(z["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch(t),fetch("".concat(t,"/.well-known/stellar.toml"))]);case 2:return n=e.sent,r=Object(ce["a"])(n,2),c=r[0],a=r[1],e.t0=se,e.next=7,c.json();case 7:return e.t1=e.sent,e.t2=t,i=(0,e.t0)(e.t1,e.t2),e.next=12,a.text();case 12:return i.toml=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function Oe(e,t,n,r,c){return je.apply(this,arguments)}function je(){return je=Object(z["a"])(regeneratorRuntime.mark((function e(t,n,r,c,a){var i,s,o,u,l,d,b,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=n.publicKey(),s=new oe["Server"](t.horizon),e.next=4,s.fetchBaseFee();case 4:o=e.sent,u=new oe["TransactionBuilder"](new oe["Account"](i,"-1"),{fee:o.toString(),networkPassphrase:ue(t.network)}),l=Object(re["a"])(a);try{for(l.s();!(d=l.n()).done;)b=d.value,u.addOperation(oe["Operation"].manageData({name:"txFunctionHash",value:b}))}catch(O){l.e(O)}finally{l.f()}return u.addOperation(oe["Operation"].manageData({name:"singleUse",value:r})),p=u.setTimeout(c).build(),p.sign(n),e.abrupt("return",p.toEnvelope().toXDR("base64"));case 12:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function he(e,t,n,r){return fe.apply(this,arguments)}function fe(){return fe=Object(z["a"])(regeneratorRuntime.mark((function e(t,n,r,c){var a,i,s,o,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.publicKey(),i=new oe["Server"](t.horizon),e.next=4,i.fetchBaseFee();case 4:return s=e.sent,e.t0=oe["TransactionBuilder"],e.next=8,i.loadAccount(a);case 8:return e.t1=e.sent,e.t2={fee:s.toString(),networkPassphrase:ue(t.network)},o=new e.t0(e.t1,e.t2),o.addOperation(oe["Operation"].payment({source:a,asset:oe["Asset"].native(),amount:c,destination:t.turret})),u=o.setTimeout(60).build(),u.sign(r),e.next=16,fetch("".concat(t.url,"/tx-fees/").concat(n),{method:"POST",body:JSON.stringify({txFunctionFee:u.toXDR()})});case 16:if(l=e.sent,l.ok){e.next=23;break}return e.t3=de,e.next=21,l.text();case 21:throw e.t4=e.sent,new e.t3(e.t4);case 23:return e.next=25,l.json();case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function ge(e,t){return me.apply(this,arguments)}function me(){return me=Object(z["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.url,"/tx-fees"),{headers:{Authorization:"Bearer ".concat(n)}});case 2:if(r=e.sent,r.ok){e.next=9;break}return e.t0=de,e.next=7,r.text();case 7:throw e.t1=e.sent,new e.t0(e.t1);case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}var xe={class:"\n      shadow\n      bg-blue-500\n      hover:bg-blue-600\n      text-white\n      font-bold\n      focus:shadow-outline focus:outline-none\n      py-2\n      px-4\n      rounded\n    ",type:"button"};function ye(e,t,n,c,a,i){return Object(r["s"])(),Object(r["f"])("button",xe,[Object(r["y"])(e.$slots,"default")])}var ve=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return n}(x["b"]);ve.render=ye;var we=ve,ke=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.turretUrl="https://stellar-turrets-testnet.sdf-ecosystem.workers.dev",e.turret=K["a"].createNull(),e.showDetails=!1,e.isLoading=!1,e}return Object(h["a"])(n,[{key:"loadTurret",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,be(this.turretUrl);case 3:this.turret=e.sent,this.$emit("loaded",this.turret),this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(x["b"]);ke=Object(m["__decorate"])([Object(x["a"])({components:{AppButton:we,TurretContract:ne,Card:q},emits:["loaded"]})],ke);var Fe=ke;Fe.render=I;var Te=Fe,Be=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.turret=K["a"].createNull(),e}return Object(h["a"])(n,[{key:"setTurret",value:function(e){this.$store.commit("setTurret",e),this.turret=e}}]),n}(x["b"]);Be=Object(m["__decorate"])([Object(x["a"])({components:{AppButton:we,TurretForm:Te,Card:q}})],Be);var Ue=Be;Ue.render=O;var Ce=Ue,Re=n("5502"),_e=Object(Re["a"])({state:{turret:K["a"].createNull(),privateKey:Object({NODE_ENV:"production",BASE_URL:"/tss-admin/"}).VUE_APP_PRIVATE_KEY||""},mutations:{setTurret:function(e,t){e.turret=t}},actions:{},modules:{},getters:{keypair:function(e){try{return oe["Keypair"].fromSecret(e.privateKey)}catch(t){return{publicKey:function(){return""}}}}}}),Ee=n("6c02"),Xe={class:"upload-contract grid"},Ve=Object(r["g"])("h1",{class:"text-2xl mb-5"},"Upload contract",-1),Le={id:"contract-info"},$e={class:"mb-5"},Ae={class:"mb-10"},He=Object(r["h"])(" Byte length:"),Ne=Object(r["h"])(" Fields fee: "),Pe=Object(r["h"])(" Contract length fee: "),Se=Object(r["h"])(" Total upload fee: "),De=Object(r["g"])("p",{class:"mt-10"},"txFunctionFee transaction XDR:",-1),Ie={ref:"tx-function-json-viewer"},ze=Object(r["g"])("p",{class:"mt-4 font-bold"},"Contract code",-1),Ke={class:"overflow-hidden overflow-clip"};function Ge(e,t,n,c,a,i){var s=this,o=Object(r["z"])("TurretFields"),u=Object(r["z"])("TurretContract"),l=Object(r["z"])("Card"),d=Object(r["z"])("AppButton");return Object(r["s"])(),Object(r["f"])("div",Xe,[Ve,Object(r["i"])(l,null,{default:Object(r["G"])((function(){return[Object(r["g"])("div",null,[Object(r["i"])(o,{onFieldsUpdated:e.handleFieldsUpdated},null,8,["onFieldsUpdated"]),Object(r["i"])(u,{turret:e.turret,onLoaded:e.handleContractCodeLoaded},null,8,["turret","onLoaded"])])]})),_:1}),Object(r["i"])(l,null,{default:Object(r["G"])((function(){return[Object(r["g"])("div",Le,[Object(r["g"])("div",$e,[Object(r["g"])("div",Ae,[Object(r["g"])("p",null,[He,Object(r["g"])("strong",null,Object(r["B"])(s.contract.txFunction.length),1)]),Object(r["g"])("p",null,[Ne,Object(r["g"])("strong",null,Object(r["B"])(e.fieldsFee),1)]),Object(r["g"])("p",null,[Pe,Object(r["g"])("strong",null,Object(r["B"])(e.contractLengthFee),1)]),Object(r["g"])("p",null,[Se,Object(r["g"])("strong",null,Object(r["B"])(e.uploadFee),1)])]),Object(r["i"])(d,{onClick:Object(r["I"])(e.handleUploadTx,["prevent"])},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isLoading?"Loading...":"Get Function Fee XDR"),1)]})),_:1},8,["onClick"]),De,Object(r["H"])(Object(r["g"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.txFunctionFeeXdr=t}),class:"border-2 border-blue-100",cols:"80",rows:"4"},null,512),[[r["E"],e.txFunctionFeeXdr]]),Object(r["g"])("pre",Ie,null,512)]),e.txFunctionFeeXdr?(Object(r["s"])(),Object(r["d"])(d,{key:0,onClick:e.upload},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isUploading?"Uploading...":"Upload"),1)]})),_:1},8,["onClick"])):Object(r["e"])("",!0),Object(r["g"])("pre",null,Object(r["B"])(e.uploadResponse),1),ze,Object(r["g"])("pre",Ke,"          "+Object(r["B"])(e.contract.txFunction)+"\n        ",1)])]})),_:1})])}n("b680"),n("b0c0"),n("a4d3"),n("e01a");var Me={class:"my-5"},Je=Object(r["g"])("h2",{class:"text-xl mb-5"},"Add contract field (Optional)",-1),qe={id:"new-field"},Ye={class:"w-full max-w-sm"},We={class:"md:flex md:items-center mb-6"},Qe=Object(r["g"])("div",{class:"md:w-1/3"},null,-1),Ze={class:"md:w-2/3 block text-gray-500 font-bold"},et=["value"],tt=Object(r["g"])("span",{class:"text-sm"},"Optional",-1),nt={class:"md:w-2/3 block text-gray-500 font-bold"},rt=["value"],ct=Object(r["g"])("span",{class:"text-sm"},"Required",-1),at={class:"text-center"},it={id:"contract-fields",class:"my-10"};function st(e,t,n,c,a,i){var s=Object(r["z"])("AppInput"),o=Object(r["z"])("AppButton"),u=Object(r["z"])("TurretFieldsTable");return Object(r["s"])(),Object(r["f"])("div",Me,[Je,Object(r["g"])("div",qe,[Object(r["g"])("form",Ye,[Object(r["i"])(s,{modelValue:e.editableField.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.editableField.name=t}),label:"Name"},null,8,["modelValue"]),Object(r["i"])(s,{modelValue:e.editableField.type,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editableField.type=t}),label:"Type"},null,8,["modelValue"]),Object(r["i"])(s,{modelValue:e.editableField.description,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.editableField.description=t}),label:"Description"},null,8,["modelValue"]),Object(r["g"])("div",We,[Qe,Object(r["g"])("label",Ze,[Object(r["H"])(Object(r["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.editableField.rule=t}),value:e.rules.Optional,class:"mr-2 leading-tight",name:"rule-type",type:"radio"},null,8,et),[[r["D"],e.editableField.rule]]),tt]),Object(r["g"])("label",nt,[Object(r["H"])(Object(r["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.editableField.rule=t}),value:e.rules.Required,class:"mr-2 leading-tight",name:"rule-type",type:"radio"},null,8,rt),[[r["D"],e.editableField.rule]]),ct])]),Object(r["g"])("div",at,[Object(r["i"])(o,{onClick:e.saveField,class:"block w-full"},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.editing?"Save":"Add"),1)]})),_:1},8,["onClick"])])])]),Object(r["g"])("div",it,[Object(r["i"])(u,{fields:e.fields,onOnEditField:t[5]||(t[5]=function(t){return e.editField(t)}),onOnDeleteField:t[6]||(t[6]=function(t){return e.deleteField(t)})},null,8,["fields"])])])}var ot,ut=n("2909"),lt=(n("7db0"),n("a434"),function(){function e(t,n,r,c){Object(j["a"])(this,e),this.name=t,this.type=n,this.description=r,this.rule=c}return Object(h["a"])(e,null,[{key:"createNull",value:function(){return new e("","","",ot.Optional)}}]),e}());(function(e){e["Required"]="Required",e["Optional"]="Optional"})(ot||(ot={}));var dt={class:"md:flex md:items-center mb-6"},bt={class:"md:w-1/3"},pt=["for"],Ot={class:"md:w-2/3"},jt=["id","value"];function ht(e,t,n,c,a,i){return Object(r["s"])(),Object(r["f"])("div",dt,[Object(r["g"])("div",bt,[Object(r["g"])("label",{for:e.inputId,class:"block text-gray-500 font-bold mb-1 md:mb-0 pr-4"},Object(r["B"])(e.label),9,pt)]),Object(r["g"])("div",Ot,[Object(r["g"])("input",{id:e.inputId,value:e.modelValue,class:"\n          bg-gray-200\n          appearance-none\n          border-2 border-gray-200\n          rounded\n          w-full\n          py-2\n          px-4\n          text-gray-700\n          leading-tight\n          focus:outline-none focus:bg-white focus:border-blue-500\n        ",type:"text",onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),onInput:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,40,jt)])])}n("ac1f"),n("466d"),n("a15b");var ft=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.label="",e}return Object(h["a"])(n,[{key:"inputId",get:function(){var e=this.label.match(/[a-z]+[a-z0-9]/gi);if(null===e)throw new Error("Label must contain letters");return"contract-input-"+e.join("").toLowerCase()}}]),n}(x["b"]);ft=Object(m["__decorate"])([Object(x["a"])({emits:["update:modelValue"],props:{label:{type:String,required:!0},modelValue:String}})],ft);var gt=ft;gt.render=ht;var mt=gt,xt={class:"flex flex-col"},yt={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},vt={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},wt={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},kt={class:"min-w-full divide-y divide-gray-200"},Ft={class:"bg-gray-50"},Tt=Object(r["g"])("th",{class:"\n                    px-6\n                    py-3\n                    text-left text-xs\n                    font-medium\n                    text-gray-500\n                    uppercase\n                    tracking-wider\n                  ",scope:"col"}," Name ",-1),Bt=Object(r["g"])("th",{class:"\n                    px-6\n                    py-3\n                    text-left text-xs\n                    font-medium\n                    text-gray-500\n                    uppercase\n                    tracking-wider\n                  ",scope:"col"}," Type ",-1),Ut=Object(r["g"])("th",{class:"\n                    px-6\n                    py-3\n                    text-left text-xs\n                    font-medium\n                    text-gray-500\n                    uppercase\n                    tracking-wider\n                  ",scope:"col"}," Description ",-1),Ct=Object(r["g"])("th",{class:"\n                    px-6\n                    py-3\n                    text-left text-xs\n                    font-medium\n                    text-gray-500\n                    uppercase\n                    tracking-wider\n                  ",scope:"col"}," Rule type ",-1),Rt={key:0,class:"relative px-6 py-3",scope:"col"},_t=Object(r["g"])("span",{class:"sr-only"},"Edit",-1),Et=Object(r["g"])("span",{class:"sr-only"},"Delete",-1),Xt=[_t,Et],Vt={class:"bg-white divide-y divide-gray-200"},Lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},$t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},At={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ht={class:"px-6 py-4 whitespace-nowrap"},Nt={key:0,class:"\n                    px-6\n                    py-4\n                    whitespace-nowrap\n                    text-right text-sm\n                    font-medium\n                  "},Pt=["onClick"],St=["onClick"];function Dt(e,t,n,c,a,i){return Object(r["s"])(),Object(r["f"])("div",xt,[Object(r["g"])("div",yt,[Object(r["g"])("div",vt,[Object(r["g"])("div",wt,[Object(r["g"])("table",kt,[Object(r["g"])("thead",Ft,[Object(r["g"])("tr",null,[Tt,Bt,Ut,Ct,e.showActions?(Object(r["s"])(),Object(r["f"])("th",Rt,Xt)):Object(r["e"])("",!0)])]),Object(r["g"])("tbody",Vt,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(e.fields,(function(t){return Object(r["s"])(),Object(r["f"])("tr",{key:t.name,class:"contract-field"},[Object(r["g"])("td",Lt,Object(r["B"])(t.name),1),Object(r["g"])("td",$t,Object(r["B"])(t.type),1),Object(r["g"])("td",At,Object(r["B"])(t.description),1),Object(r["g"])("td",Ht,[Object(r["g"])("span",{class:Object(r["o"])(["Optional"===t.rule?"bg-blue-100":"bg-red-100","\n                      px-2\n                      inline-flex\n                      text-xs\n                      leading-5\n                      font-semibold\n                      rounded-full\n                    "])},Object(r["B"])(t.rule),3)]),e.showActions?(Object(r["s"])(),Object(r["f"])("td",Nt,[Object(r["g"])("a",{class:"text-indigo-600 hover:text-indigo-900 mr-2",href:"#",onClick:Object(r["I"])((function(n){return e.editField(t)}),["prevent"])},"Edit",8,Pt),Object(r["g"])("a",{class:"text-indigo-600 hover:text-indigo-900",href:"#",onClick:Object(r["I"])((function(n){return e.deleteField(t)}),["prevent"])},"Delete",8,St)])):Object(r["e"])("",!0)])})),128))])])])])])])}var It=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"editField",value:function(e){this.$emit("onEditField",e)}},{key:"deleteField",value:function(e){this.$emit("onDeleteField",e)}}]),n}(x["b"]);It=Object(m["__decorate"])([Object(x["a"])({emits:["onEditField","onDeleteField"],props:{fields:{type:Array},showActions:{type:Boolean,required:!1,default:!0}}})],It);var zt=It;zt.render=Dt;var Kt=zt,Gt=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.fields=[],e.editableField=lt.createNull(),e.rules=ot,e.editing=!1,e}return Object(h["a"])(n,[{key:"saveField",value:function(){var e=this,t=this.editableField,n=t.name,r=t.type,c=t.description,a=t.rule,i=this.fields.find((function(t){return t===e.editableField}));i?(i.name=n,i.type=r,i.description=c,i.rule=a):this.fields=[].concat(Object(ut["a"])(this.fields),[new lt(n,r,c,a)]),this.editableField=lt.createNull(),this.editing=!1,this.$emit("fieldsUpdated",this.fields)}},{key:"editField",value:function(e){this.editableField=e,this.editing=!0}},{key:"deleteField",value:function(e){for(var t=0;t<this.fields.length;t++)this.fields[t]===e&&this.fields.splice(t,1)}}]),n}(x["b"]);Gt=Object(m["__decorate"])([Object(x["a"])({components:{TurretFieldsTable:Kt,AppButton:we,AppInput:mt,Card:q},emits:["fieldsUpdated"],props:{turret:{type:K["a"]}}})],Gt);var Mt=Gt;Mt.render=st;var Jt=Mt,qt=function(){function e(t,n,r){Object(j["a"])(this,e),this.txFunction=t,this.txFunctionFields=n,this.txFunctionFee=r}return Object(h["a"])(e,null,[{key:"createNull",value:function(){return new e("",[],"")}}]),e}();function Yt(e,t,n){return Wt.apply(this,arguments)}function Wt(){return Wt=Object(z["a"])(regeneratorRuntime.mark((function e(t,n,r){var c,a,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=new oe["Server"](t.horizon),a=oe["Keypair"].fromSecret(n),i=a.publicKey(),e.t0=oe["TransactionBuilder"],e.next=6,c.loadAccount(i);case 6:return e.t1=e.sent,e.t2={fee:oe["BASE_FEE"],networkPassphrase:ue(t.network)},s=new e.t0(e.t1,e.t2).addOperation(oe["Operation"].payment({amount:t.calculateUploadFee(r),asset:oe["Asset"].native(),destination:t.turret})),o=s.setTimeout(3600).build(),o.sign(a),e.abrupt("return",o.toEnvelope().toXDR("base64"));case 12:case"end":return e.stop()}}),e)}))),Wt.apply(this,arguments)}function Qt(e,t){return Zt.apply(this,arguments)}function Zt(){return Zt=Object(z["a"])(regeneratorRuntime.mark((function e(t,n){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("txFunction",n.txFunction),r.append("txFunctionFields",btoa(JSON.stringify(n.txFunctionFields))),r.append("txFunctionFee",n.txFunctionFee),e.next=6,fetch(t.url+"/tx-functions",{method:"POST",body:r});case 6:return c=e.sent,e.abrupt("return",c.json());case 8:case"end":return e.stop()}}),e)}))),Zt.apply(this,arguments)}var en=n("1dc0"),tn=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.turret=new Proxy(K["a"].createNull(),{}),e.contract=qt.createNull(),e.uploadFee="0",e.contractLengthFee="0",e.fieldsFee="0",e.txFunctionFeeXdr="",e.isLoading=!1,e.isUploading=!1,e.uploadResponse=null,e}return Object(h["a"])(n,[{key:"created",value:function(){this.turret=this.$store.state.turret}},{key:"handleContractCodeLoaded",value:function(e){this.contract.txFunction=e}},{key:"handleFieldsUpdated",value:function(e){this.contract.txFunctionFields=e}},{key:"handleUploadTx",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,Yt(this.turret,this.$store.state.privateKey,this.contract);case 3:this.contract.txFunctionFee=this.txFunctionFeeXdr=e.sent,t=new oe["Transaction"](this.contract.txFunctionFee,this.turret.network),n=new en("txFunctionFee",JSON.parse(JSON.stringify(t))),r=this.$refs["tx-function-json-viewer"],r.innerHTML="",r.appendChild(n.dom),this.isLoading=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"upload",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isUploading=!0,e.next=3,Qt(this.turret,this.contract);case 3:this.uploadResponse=e.sent,this.isUploading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(x["b"]);tn=Object(m["__decorate"])([Object(x["a"])({components:{AppButton:we,TurretContract:ne,TurretFields:Jt,TurretForm:Te,Card:q},watch:{contract:{deep:!0,handler:function(){if(""===this.turret.turret)return"0";this.uploadFee=this.turret.calculateUploadFee(this.contract),this.fieldsFee=this.turret.calculateFieldsFee(this.contract).toFixed(7),this.contractLengthFee=this.turret.calculateContractLengthFee(this.contract).toFixed(7)}}}})],tn);var nn=tn;n("980b");nn.render=Ge;var rn=nn,cn={class:"fee-payments"},an={class:"text-2xl mb-5"},sn=Object(r["h"])(" Create XDR token for "),on={class:"text-sm"},un={key:0,class:"my-8"},ln=Object(r["g"])("strong",null,"Xdr token",-1),dn=Object(r["g"])("br",null,null,-1);function bn(e,t,n,c,a,i){var s=Object(r["z"])("XdrTokenForm"),o=Object(r["z"])("FeeBalanceInfo"),u=Object(r["z"])("JsonTreeView");return Object(r["s"])(),Object(r["f"])("div",cn,[Object(r["g"])("h1",an,[sn,Object(r["g"])("span",on,Object(r["B"])(e.$store.getters.keypair.publicKey()),1)]),Object(r["g"])("div",null,[Object(r["g"])("div",null,[Object(r["i"])(s,{isLoading:e.isLoading,onCreateXdrToken:e.handleXdrTokenCreated},null,8,["isLoading","onCreateXdrToken"]),e.xdrToken.hash?(Object(r["s"])(),Object(r["f"])("div",un,[ln,dn,Object(r["H"])(Object(r["g"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.xdrTokenRaw=t}),cols:"77",rows:"3"},null,512),[[r["E"],e.xdrTokenRaw]])])):Object(r["e"])("",!0),""!==e.xdrToken.hash?(Object(r["s"])(),Object(r["d"])(o,{key:1,"transaction-fee":e.xdrToken},null,8,["transaction-fee"])):Object(r["e"])("",!0),e.createXdrTokenError?(Object(r["s"])(),Object(r["d"])(u,{key:2,json:e.createXdrTokenError},null,8,["json"])):Object(r["e"])("",!0)])])])}var pn=function(){function e(t,n,r,c,a){Object(j["a"])(this,e),this.hash=t,this.lastModifiedTime=n,this.publicKey=r,this.singleUse=c,this.txFunctionHashes=a}return Object(h["a"])(e,null,[{key:"createNull",value:function(){return new e("",0,"",!1,[])}}]),e}(),On=(n("a9e3"),{class:"transaction-fee mt-4 flex flex-col"}),jn={class:"overflow-x-auto -mx-8"},hn={class:"py-2 align-middle"},fn={class:"shadow overflow-hidden border-b border-gray-200 rounded-lg"},gn={class:"min-w-full divide-y divide-gray-200"},mn=Object(r["g"])("thead",{class:"bg-gray-50"},[Object(r["g"])("tr",null,[Object(r["g"])("th",{class:"\n                    px-6\n                    py-3\n                    text-left text-xs\n                    font-medium\n                    text-gray-500\n                    uppercase\n                    tracking-wider\n                  ",scope:"col"}," Field "),Object(r["g"])("th",{class:"\n                    px-6\n                    py-3\n                    text-left text-xs\n                    font-medium\n                    text-gray-500\n                    uppercase\n                    tracking-wider\n                  ",scope:"col"}," Value "),Object(r["g"])("th",{class:"relative px-6 py-3",scope:"col"},[Object(r["g"])("span",{class:"sr-only"},"Edit"),Object(r["g"])("span",{class:"sr-only"},"Delete")])])],-1),xn={class:"bg-white divide-y divide-gray-200"},yn=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Public Key ",-1),vn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},wn=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Balance ",-1),kn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Fn=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Hash ",-1),Tn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Bn=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Last modified time ",-1),Un={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Cn=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Single use? ",-1),Rn={class:"px-6 py-4 whitespace-nowrap"},_n=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Function hashes ",-1),En={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Xn={class:"underline text-blue-500 font-mono",href:"#"},Vn={key:0},Ln=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Actions ",-1),$n={class:"\n                    text-blue-500\n                    px-6\n                    py-4\n                    whitespace-nowrap\n                    text-sm\n                    font-medium\n                  "};function An(e,t,n,c,a,i){return Object(r["s"])(),Object(r["f"])("div",On,[Object(r["g"])("div",jn,[Object(r["g"])("div",hn,[Object(r["g"])("div",fn,[Object(r["g"])("table",gn,[mn,Object(r["g"])("tbody",xn,[Object(r["g"])("tr",null,[yn,Object(r["g"])("td",vn,Object(r["B"])(e.transactionFee.publicKey),1)]),Object(r["g"])("tr",null,[wn,Object(r["g"])("td",kn,Object(r["B"])(e.transactionFee.balance),1)]),Object(r["g"])("tr",null,[Fn,Object(r["g"])("td",Tn,Object(r["B"])(e.transactionFee.hash),1)]),Object(r["g"])("tr",null,[Bn,Object(r["g"])("td",Un,Object(r["B"])(new Date(Number(e.transactionFee.lastModifiedTime))),1)]),Object(r["g"])("tr",null,[Cn,Object(r["g"])("td",Rn,[Object(r["g"])("span",{class:Object(r["o"])([e.transactionFee.singleUse?"bg-red-100":"bg-blue-100","\n                      px-2\n                      inline-flex\n                      text-xs\n                      leading-5\n                      font-semibold\n                      rounded-full\n                    "])},Object(r["B"])(e.transactionFee.singleUse?"Yes":"No"),3)])]),Object(r["g"])("tr",null,[_n,Object(r["g"])("td",En,[Object(r["g"])("ul",null,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(e.transactionFee.txFunctionHashes,(function(e){return Object(r["s"])(),Object(r["f"])("li",{key:e},[Object(r["g"])("a",Xn,Object(r["B"])(e),1)])})),128))])])]),e.showActions?(Object(r["s"])(),Object(r["f"])("tr",Vn,[Ln,Object(r["g"])("td",$n,[Object(r["g"])("a",{class:"hover:text-blue-900 mr-2",href:"#",onClick:t[0]||(t[0]=Object(r["I"])((function(t){return e.$emit("fund",e.$store.state.turret.fee.min)}),["prevent"]))},Object(r["B"])(e.isLoading?"Loading...":"Fund Min (".concat(e.$store.state.turret.fee.min," XLM)")),1),Object(r["g"])("a",{class:"hover:text-blue-900 mr-2",href:"#",onClick:t[1]||(t[1]=Object(r["I"])((function(t){return e.$emit("fund",e.$store.state.turret.fee.max)}),["prevent"]))},Object(r["B"])(e.isLoading?"Loading...":"Fund Max (".concat(e.$store.state.turret.fee.max," XLM)")),1)])])):Object(r["e"])("",!0)])])])])])])}var Hn=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return n}(x["b"]);Hn=Object(m["__decorate"])([Object(x["a"])({props:{transactionFee:{type:Object,required:!0},showActions:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},emits:["fund"]})],Hn);var Nn=Hn;Nn.render=An;var Pn=Nn,Sn={class:"transaction-fee mb-4"},Dn=Object(r["g"])("p",{class:"mb-2"}," e.g.: 30180f8f65a06b24480b51c29317f3eeb152141d00254d20bce6d6c9a3f35602 ",-1),In={class:"mb-4"},zn={class:"text-center"},Kn=Object(r["h"])(" Add "),Gn={key:0,class:"min-w-full divide-y divide-gray-200 mb-5"},Mn=Object(r["g"])("thead",{class:"bg-gray-50"},[Object(r["g"])("tr",null,[Object(r["g"])("th",{class:"\n              px-6\n              py-3\n              text-left text-xs\n              font-medium\n              text-gray-500\n              uppercase\n              tracking-wider\n            ",scope:"col"}," Function hash "),Object(r["g"])("th",{class:"relative px-6 py-3",scope:"col"},[Object(r["g"])("span",{class:"sr-only"},"Delete")])])],-1),Jn={class:"bg-white divide-y divide-gray-200"},qn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono"},Yn={class:"underline text-blue-500",href:"#"},Wn={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Qn=["onClick"],Zn={key:1,class:"mb-8"},er={class:"mb-4"},tr={class:"flex mb-6"},nr=Object(r["g"])("div",{class:"w-1/3 block text-gray-500 font-bold mb-1 md:mb-0 pr-4"}," Single use? ",-1),rr={class:"mr-4"},cr=Object(r["g"])("span",{class:"text-sm"},"True",-1),ar=Object(r["g"])("span",{class:"text-sm"},"False",-1);function ir(e,t,n,c,a,i){var s=Object(r["z"])("AppInput"),o=Object(r["z"])("AppButton"),u=Object(r["z"])("JsonTreeView");return Object(r["s"])(),Object(r["f"])("div",Sn,[Object(r["g"])("form",{class:"w-full mb-10",onSubmit:t[1]||(t[1]=Object(r["I"])((function(){return e.saveFunctionHash&&e.saveFunctionHash.apply(e,arguments)}),["prevent"]))},[Object(r["g"])("div",null,[Object(r["i"])(s,{modelValue:e.newFunctionHash,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newFunctionHash=t}),label:"Function hash (optional)"},null,8,["modelValue"]),Dn,Object(r["g"])("p",In,Object(r["B"])(e.newFunctionHashError),1)]),Object(r["g"])("div",zn,[Object(r["i"])(o,{class:"block w-full",onClick:e.saveFunctionHash},{default:Object(r["G"])((function(){return[Kn]})),_:1},8,["onClick"])])],32),e.functionHashes.length?(Object(r["s"])(),Object(r["f"])("table",Gn,[Mn,Object(r["g"])("tbody",Jn,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(e.functionHashes,(function(t){return Object(r["s"])(),Object(r["f"])("tr",{key:t},[Object(r["g"])("td",qn,[Object(r["g"])("a",Yn,Object(r["B"])(t),1)]),Object(r["g"])("td",Wn,[Object(r["g"])("a",{class:"text-indigo-600 hover:text-indigo-900",href:"#",onClick:Object(r["I"])((function(n){return e.deleteFunctionHash(t)}),["prevent"])}," Delete ",8,Qn)])])})),128))])])):(Object(r["s"])(),Object(r["f"])("p",Zn," This XDR token is valid for any function. Add one or more Function Hashes to restrict it. ")),Object(r["g"])("div",null,[Object(r["i"])(s,{modelValue:e.ttl,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.ttl=t}),label:"TTL (in seconds)"},null,8,["modelValue"]),Object(r["g"])("p",er,Object(r["B"])(e.ttlError),1)]),Object(r["g"])("div",tr,[nr,Object(r["g"])("label",rr,[Object(r["H"])(Object(r["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.isSingleUse=t}),class:"mr-2 leading-tight",name:"rule-type",type:"radio",value:"true"},null,512),[[r["D"],e.isSingleUse]]),cr]),Object(r["g"])("label",null,[Object(r["H"])(Object(r["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.isSingleUse=t}),class:"mr-2 leading-tight",name:"rule-type",type:"radio",value:"false"},null,512),[[r["D"],e.isSingleUse]]),ar])]),Object(r["i"])(o,{onClick:e.createXdrToken},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isLoading||e.isCreatingXdr?"Loading...":"Create xdrToken"),1)]})),_:1},8,["onClick"]),e.requestError?(Object(r["s"])(),Object(r["d"])(u,{key:2,json:e.requestError},null,8,["json"])):Object(r["e"])("",!0)])}n("c740");var sr={ref:"placeholder"};function or(e,t,n,c,a,i){return Object(r["s"])(),Object(r["f"])("pre",sr,null,512)}var ur=n("1dc0"),lr=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.json={},e}return Object(h["a"])(n,[{key:"created",value:function(){var e=this;this.$nextTick((function(){e.renderJson()}))}},{key:"renderJson",value:function(){var e=this.$refs.placeholder,t=new ur("result",JSON.parse(JSON.stringify(this.json)));t.readonly=!0,e.innerHTML="",e.appendChild(t.dom)}}]),n}(x["b"]);lr=Object(m["__decorate"])([Object(x["a"])({props:{json:{type:Object,required:!0}},watch:{json:{handler:function(){this.renderJson()}}}})],lr);var dr=lr;dr.render=or;var br=dr,pr=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.newFunctionHash="",e.newFunctionHashError="",e.functionHashes=[],e.xdrToken="",e.ttl="86400",e.ttlError="",e.isSingleUse="false",e.requestError=null,e.isCreatingXdr=!1,e}return Object(h["a"])(n,[{key:"saveFunctionHash",value:function(){var e=Number(this.ttl);isNaN(e)?this.ttlError="TTL must be a number, in seconds.":64===this.newFunctionHash.length?(this.functionHashes.push(this.newFunctionHash),this.newFunctionHash="",this.newFunctionHashError=""):this.newFunctionHashError="Function hashes should be 64 characters long"}},{key:"deleteFunctionHash",value:function(e){this.functionHashes.splice(this.functionHashes.findIndex((function(t){return t===e})),1)}},{key:"createXdrToken",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isCreatingXdr=!0,this.xdrToken="",this.requestError=null,e.prev=3,e.next=6,Oe(this.$store.state.turret,this.$store.getters.keypair,this.isSingleUse,Number(this.ttl),this.functionHashes);case 6:t=e.sent,this.xdrToken=t,this.$emit("createXdrToken",t),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),this.requestError=e.t0;case 14:return e.prev=14,this.isCreatingXdr=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(x["b"]);pr=Object(m["__decorate"])([Object(x["a"])({components:{JsonTreeView:br,AppInput:mt,AppButton:we},emits:["createXdrToken"],props:{isLoading:{type:Boolean,default:!1}}})],pr);var Or=pr;Or.render=ir;var jr=Or;function hr(){window.scrollTo(0,document.body.scrollHeight)}var fr=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.xdrToken=pn.createNull(),e.xdrTokenRaw="",e.createXdrTokenError=null,e.isLoading=!1,e}return Object(h["a"])(n,[{key:"handleXdrTokenCreated",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,this.xdrToken=pn.createNull(),this.xdrTokenRaw=t,this.createXdrTokenError=null,n=this.$store.state.turret,e.prev=5,e.next=8,ge(n,t);case 8:r=e.sent,this.xdrToken=r,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),this.createXdrTokenError=e.t0;case 15:return this.isLoading=!1,e.next=18,this.$nextTick(hr);case 18:case"end":return e.stop()}}),e,this,[[5,12]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(x["b"]);fr=Object(m["__decorate"])([Object(x["a"])({components:{FeeBalanceInfo:Pn,JsonTreeView:br,AppInput:mt,XdrTokenForm:jr,AppButton:we}})],fr);var gr=fr;gr.render=bn;var mr=gr,xr={class:"fee-payments"},yr=Object(r["g"])("h1",{class:"text-2xl mb-5"},"Manage Turret funds",-1),vr={class:"grid grid-cols-2 gap-10"},wr=Object(r["g"])("h2",{class:"text-2xl mb-5"},"View Fee Balance",-1),kr={class:"mb-5 text-sm"},Fr=Object(r["h"])(" Create an XDR token "),Tr=Object(r["h"])(" or "),Br={key:0},Ur={class:"mt-5"};function Cr(e,t,n,c,a,i){var s=this,o=Object(r["z"])("AppInput"),u=Object(r["z"])("router-link"),l=Object(r["z"])("AppButton"),d=Object(r["z"])("PaymentInfo"),b=Object(r["z"])("FeeBalanceInfo");return Object(r["s"])(),Object(r["f"])("div",xr,[yr,Object(r["g"])("div",vr,[Object(r["g"])("div",null,[wr,Object(r["i"])(o,{modelValue:e.xdrToken,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.xdrToken=t}),label:"XDR Token"},null,8,["modelValue"]),Object(r["g"])("p",kr,[Object(r["i"])(u,{class:"underline text-blue-500",to:"/xdr-token"},{default:Object(r["G"])((function(){return[Fr]})),_:1}),Tr,Object(r["g"])("a",{class:"underline text-blue-500",href:"#",onClick:t[1]||(t[1]=Object(r["I"])((function(){return e.createXdr&&e.createXdr.apply(e,arguments)}),["prevent"]))},Object(r["B"])(e.isCreatingXdr?"creating...":"get a global XDR token for ".concat(e.$store.getters.keypair.publicKey()," (expires in an hour)")),1)]),Object(r["i"])(l,{onClick:t[2]||(t[2]=function(){return e.fetchTransactionFee()})},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isFetching?"Loading...":"Fetch"),1)]})),_:1}),e.fetchError?(Object(r["s"])(),Object(r["f"])("p",Br,Object(r["B"])(e.fetchError),1)):Object(r["e"])("",!0)]),Object(r["g"])("div",null,[Object(r["g"])("form",{onSubmit:t[7]||(t[7]=Object(r["I"])((function(){}),["prevent"]))},[Object(r["i"])(o,{modelValue:e.publicKeyToFund,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.publicKeyToFund=t}),label:"Public key to fund"},null,8,["modelValue"]),Object(r["g"])("a",{class:"blue-500 underline",href:"#",onClick:t[4]||(t[4]=Object(r["I"])((function(t){return e.publicKeyToFund=e.$store.getters.keypair.publicKey()}),["prevent"]))}," Use "+Object(r["B"])(e.$store.getters.keypair.publicKey()),1),Object(r["g"])("div",Ur,[Object(r["i"])(l,{class:"mr-4",onClick:t[5]||(t[5]=Object(r["I"])((function(){return e.handleFundingPublicKey(e.$store.state.turret.fee.min)}),["prevent"]))},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isProcessingPayment?"Loading...":"Fund Min (".concat(e.$store.state.turret.fee.min," XLM)")),1)]})),_:1}),Object(r["i"])(l,{onClick:t[6]||(t[6]=Object(r["I"])((function(){return e.handleFundingPublicKey(e.$store.state.turret.fee.max)}),["prevent"]))},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isProcessingPayment?"Loading...":"Fund max (".concat(e.$store.state.turret.fee.max," XLM)")),1)]})),_:1})])],32)])]),""!==e.payment.paymentHash?(Object(r["s"])(),Object(r["d"])(d,{key:0,payment:e.payment},null,8,["payment"])):Object(r["e"])("",!0),Object(r["h"])(" "+Object(r["B"])(e.paymentError)+" ",1),e.feeBalance.hash?(Object(r["s"])(),Object(r["d"])(b,{key:1,"is-loading":e.isProcessingPayment,"show-actions":!0,"transaction-fee":e.feeBalance,onFund:t[8]||(t[8]=function(t){return e.handleFundingFromFeeBalanceInfo(s.xdrToken,t)})},null,8,["is-loading","transaction-fee"])):Object(r["e"])("",!0)])}var Rr={class:"transaction-fee mt-4 flex flex-col"},_r={class:"overflow-x-auto -mx-8"},Er={class:"py-2 align-middle"},Xr={class:"shadow overflow-hidden border-b border-gray-200 rounded-lg"},Vr={class:"min-w-full divide-y divide-gray-200"},Lr=Object(r["g"])("thead",{class:"bg-gray-50"},[Object(r["g"])("tr",null,[Object(r["g"])("th",{class:"\n                    px-6\n                    py-3\n                    text-left text-xs\n                    font-medium\n                    text-gray-500\n                    uppercase\n                    tracking-wider\n                  ",scope:"col"}," Field "),Object(r["g"])("th",{class:"\n                    px-6\n                    py-3\n                    text-left text-xs\n                    font-medium\n                    text-gray-500\n                    uppercase\n                    tracking-wider\n                  ",scope:"col"}," Value ")])],-1),$r={class:"bg-white divide-y divide-gray-200"},Ar=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Public Key ",-1),Hr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Nr=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Payment Hash ",-1),Pr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Sr=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Last modified time ",-1),Dr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ir=Object(r["g"])("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"}," Balance ",-1),zr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"};function Kr(e,t,n,c,a,i){return Object(r["s"])(),Object(r["f"])("div",Rr,[Object(r["g"])("div",_r,[Object(r["g"])("div",Er,[Object(r["g"])("div",Xr,[Object(r["g"])("table",Vr,[Lr,Object(r["g"])("tbody",$r,[Object(r["g"])("tr",null,[Ar,Object(r["g"])("td",Hr,Object(r["B"])(e.payment.publicKey),1)]),Object(r["g"])("tr",null,[Nr,Object(r["g"])("td",Pr,Object(r["B"])(e.payment.paymentHash),1)]),Object(r["g"])("tr",null,[Sr,Object(r["g"])("td",Dr,Object(r["B"])(new Date(Number(e.payment.lastModifiedTime))),1)]),Object(r["g"])("tr",null,[Ir,Object(r["g"])("td",zr,Object(r["B"])(e.payment.balance),1)])])])])])])])}var Gr=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return n}(x["b"]);Gr=Object(m["__decorate"])([Object(x["a"])({props:{payment:{type:Object,required:!0}}})],Gr);var Mr=Gr;Mr.render=Kr;var Jr=Mr,qr=function(){function e(t,n,r,c,a,i){Object(j["a"])(this,e),this.balance=t,this.hash=n,this.lastModifiedTime=r,this.publicKey=c,this.singleUse=a,this.txFunctionHashes=i}return Object(h["a"])(e,null,[{key:"createNull",value:function(){return new e(0,"",0,"",!1,[])}}]),e}(),Yr=function(){function e(t,n,r,c){Object(j["a"])(this,e),this.publicKey=t,this.paymentHash=n,this.lastModifiedTime=r,this.balance=c}return Object(h["a"])(e,null,[{key:"createNull",value:function(){return new e("","",0,"")}}]),e}(),Wr=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.feeBalance=qr.createNull(),e.xdrToken="",e.payment=Yr.createNull(),e.fetchError="",e.paymentError="",e.isFetching=!1,e.isCreatingXdr=!1,e.isProcessingPayment=!1,e.publicKeyToFund="",e}return Object(h["a"])(n,[{key:"createXdr",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$store.state.turret,n=this.$store.getters.keypair,this.isCreatingXdr=!0,e.next=6,Oe(t,n,"true",3590,[]);case 6:return this.xdrToken=e.sent,e.next=9,this.fetchTransactionFee();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:return e.prev=14,this.isCreatingXdr=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTransactionFee",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isFetching=!0,this.fetchError="",this.feeBalance=qr.createNull(),n=this.$store.state.turret,e.prev=4,e.next=7,ge(n,null!==t&&void 0!==t?t:this.xdrToken);case 7:this.feeBalance=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),this.fetchError=e.t0 instanceof de?e.t0.json:e.t0;case 13:return this.isFetching=!1,e.next=16,this.$nextTick(hr);case 16:case"end":return e.stop()}}),e,this,[[4,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleFundingFromFeeBalanceInfo",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,n){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isProcessingPayment=!0,this.paymentError="",r=this.$store.getters.keypair,c=this.$store.state.turret,e.prev=4,e.next=7,he(c,r.publicKey(),r,n);case 7:this.payment=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),this.paymentError=e.t0 instanceof de?e.t0.json:e.t0;case 13:return e.next=15,this.fetchTransactionFee(t);case 15:return this.isProcessingPayment=!1,e.next=18,this.$nextTick(hr);case 18:case"end":return e.stop()}}),e,this,[[4,10]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"handleFundingPublicKey",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isProcessingPayment=!0,this.paymentError="",e.prev=2,e.next=5,he(this.$store.state.turret,this.publicKeyToFund,this.$store.getters.keypair,t);case 5:this.payment=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),this.paymentError=e.t0 instanceof de?e.t0.json:e.t0;case 11:return this.isProcessingPayment=!1,e.next=14,this.$nextTick(hr);case 14:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(x["b"]);Wr=Object(m["__decorate"])([Object(x["a"])({components:{FeeBalanceInfo:Pn,AppInput:mt,XdrTokenForm:jr,AppButton:we,PaymentInfo:Jr}})],Wr);var Qr=Wr;Qr.render=Cr;var Zr=Qr,ec=Object(r["g"])("h1",{class:"text-2xl mb-5"},"View and run functions",-1),tc={key:0},nc=Object(r["g"])("p",{class:"mt-4 font-bold"},"TxFunction fields",-1),rc={class:"mt-10"},cc=Object(r["g"])("strong",null,"Signer:",-1),ac={key:1},ic={class:"turrets my-5"},sc={class:"mb-5 text-sm"},oc=Object(r["h"])(" Create an XDR token "),uc=Object(r["h"])(" or "),lc={key:0,id:"resultingXdr"},dc=Object(r["g"])("p",{class:"mt-4 font-bold"},"Resulting XDR:",-1),bc={class:"break-words"},pc=Object(r["g"])("p",{class:"mt-4 font-bold"},"TxFunction code",-1);function Oc(e,t,n,c,a,i){var s=this,o=Object(r["z"])("AppInput"),u=Object(r["z"])("AppButton"),l=Object(r["z"])("TurretFieldsTable"),d=Object(r["z"])("Card"),b=Object(r["z"])("TurretUrlList"),p=Object(r["z"])("router-link");return Object(r["s"])(),Object(r["f"])("div",null,[ec,Object(r["i"])(d,null,{default:Object(r["G"])((function(){return[Object(r["i"])(o,{modelValue:e.txFunctionHash,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.txFunctionHash=t}),label:"Function hash"},null,8,["modelValue"]),Object(r["i"])(u,{onClick:e.getTxFunction},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isFetching?"Fetching...":"Fetch"),1)]})),_:1},8,["onClick"]),e.txFunction.txFunction?(Object(r["s"])(),Object(r["f"])("div",tc,[nc,Object(r["i"])(l,{fields:e.txFunction.fields,showActions:!1},null,8,["fields"]),Object(r["g"])("p",rc,[cc,Object(r["h"])(" "+Object(r["B"])(e.txFunction.signer),1)])])):Object(r["e"])("",!0),e.getTxFunctionError?(Object(r["s"])(),Object(r["f"])("p",ac,Object(r["B"])(e.getTxFunctionError),1)):Object(r["e"])("",!0)]})),_:1}),e.txFunction.txFunction?(Object(r["s"])(),Object(r["d"])(d,{key:0},{default:Object(r["G"])((function(){return[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(e.txFunction.fields,(function(t){return Object(r["s"])(),Object(r["f"])("div",{id:"fields",key:t},[Object(r["i"])(o,{modelValue:e.txFunctionRunParams[t.name],"onUpdate:modelValue":function(n){return e.txFunctionRunParams[t.name]=n},label:t.name},null,8,["modelValue","onUpdate:modelValue","label"])])})),128)),Object(r["g"])("div",ic,[Object(r["i"])(b,{turretsUrls:e.turretsUrls,onOnDeleteTurretUrl:t[1]||(t[1]=function(t){return e.deleteTurretUrl(t)}),onOnEditTurretUrl:t[2]||(t[2]=function(t){return e.editTurretUrl(t)})},null,8,["turretsUrls"]),Object(r["i"])(o,{modelValue:e.editableTurretUrl,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.editableTurretUrl=t}),label:"Add another turret url"},null,8,["modelValue"]),Object(r["i"])(u,{onClick:e.saveTurretUrl},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isEditingTurretUrl?"Save":"Add another turret"),1)]})),_:1},8,["onClick"])]),Object(r["i"])(o,{modelValue:e.xdrToken,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.xdrToken=t}),label:"XDR Token"},null,8,["modelValue"]),Object(r["g"])("p",sc,[Object(r["i"])(p,{class:"underline text-blue-500",to:"/xdr-token"},{default:Object(r["G"])((function(){return[oc]})),_:1}),uc,Object(r["g"])("a",{class:"underline text-blue-500",href:"#",onClick:t[5]||(t[5]=Object(r["I"])((function(){return e.createXdr&&e.createXdr.apply(e,arguments)}),["prevent"]))},Object(r["B"])(e.isCreatingXdr?"creating...":"get a multi-use XDR token for ".concat(e.$store.getters.keypair.publicKey()," and ").concat(s.txFunctionHash," (valid for 5 minutes)")),1)]),Object(r["i"])(u,{onClick:e.runTxFunction},{default:Object(r["G"])((function(){return[Object(r["h"])(Object(r["B"])(e.isRunning?"Running...":"Run txFunction"),1)]})),_:1},8,["onClick"]),e.resultingTxRunXdr?(Object(r["s"])(),Object(r["f"])("div",lc,[dc,Object(r["g"])("p",bc,Object(r["B"])(e.resultingTxRunXdr),1)])):Object(r["e"])("",!0),Object(r["g"])("div",null,[pc,Object(r["g"])("pre",null,Object(r["B"])(e.txFunction.txFunction),1)])]})),_:1})):Object(r["e"])("",!0)])}n("d81d"),n("159b");function jc(e,t){return hc.apply(this,arguments)}function hc(){return hc=Object(z["a"])(regeneratorRuntime.mark((function e(t,n){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.url,"/tx-functions/").concat(n));case 2:if(r=e.sent,r.ok){e.next=9;break}return e.t0=de,e.next=7,r.text();case 7:throw e.t1=e.sent,new e.t0(e.t1);case 9:return e.next=11,r.json();case 11:return c=e.sent,c.txFunction=c.function,delete c.function,e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function fc(e,t,n,r,c){return gc.apply(this,arguments)}function gc(){return gc=Object(z["a"])(regeneratorRuntime.mark((function e(t,n,r,c,a){var i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.map((function(e){return fetch("".concat(e,"/tx-functions/").concat(n),{method:"POST",body:JSON.stringify(r),headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()}))})),e.next=3,Promise.all(i);case 3:return s=e.sent,e.prev=4,o=new oe["Transaction"](s[0].xdr,ue(a)),s.forEach((function(e){o.addSignature(e.signer,e.signature)})),e.abrupt("return",o.toXDR());case 10:throw e.prev=10,e.t0=e["catch"](4),new de(JSON.stringify(s));case 13:case"end":return e.stop()}}),e,null,[[4,10]])}))),gc.apply(this,arguments)}var mc=function(){function e(t,n,r){Object(j["a"])(this,e),this.txFunction=t,this.fields=n,this.signer=r}return Object(h["a"])(e,null,[{key:"createNull",value:function(){return new e("",[],"")}}]),e}(),xc={class:"turrets my-5"},yc={class:"flex flex-col my-5"},vc={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},wc={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},kc={class:"\n              shadow\n              overflow-hidden\n              border-b border-gray-200\n              sm:rounded-lg\n            "},Fc={class:"min-w-full divide-y divide-gray-200"},Tc=Object(r["g"])("thead",{class:"bg-gray-50"},[Object(r["g"])("tr",null,[Object(r["g"])("th",{class:"\n                      px-6\n                      py-3\n                      text-left text-xs\n                      font-medium\n                      text-gray-500\n                      uppercase\n                      tracking-wider\n                    ",scope:"col"}," Url ")])],-1),Bc={class:"bg-white divide-y divide-gray-200"},Uc={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Cc={class:"\n                      px-6\n                      py-4\n                      whitespace-nowrap\n                      text-right text-sm\n                      font-medium\n                    "},Rc=["onClick"],_c=["onClick"];function Ec(e,t,n,c,a,i){return Object(r["s"])(),Object(r["f"])("div",xc,[Object(r["g"])("div",yc,[Object(r["g"])("div",vc,[Object(r["g"])("div",wc,[Object(r["g"])("div",kc,[Object(r["g"])("table",Fc,[Tc,Object(r["g"])("tbody",Bc,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(e.turretsUrls,(function(t){return Object(r["s"])(),Object(r["f"])("tr",{key:t},[Object(r["g"])("td",Uc,Object(r["B"])(t),1),Object(r["g"])("td",Cc,[Object(r["g"])("a",{class:"text-indigo-600 hover:text-indigo-900 mr-2",href:"#",onClick:Object(r["I"])((function(n){return e.editTurretUrl(t)}),["prevent"])},"Edit",8,Rc),Object(r["g"])("a",{class:"text-indigo-600 hover:text-indigo-900",href:"#",onClick:Object(r["I"])((function(n){return e.deleteTurretUrl(t)}),["prevent"])},"Delete",8,_c)])])})),128))])])])])])])])}var Xc=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"editTurretUrl",value:function(e){this.$emit("onEditTurretUrl",e)}},{key:"deleteTurretUrl",value:function(e){this.$emit("onDeleteTurretUrl",e)}}]),n}(x["b"]);Xc=Object(m["__decorate"])([Object(x["a"])({components:{AppButton:we,AppInput:mt},emits:["onEditTurretUrl","onDeleteTurretUrl"],props:{turretsUrls:{type:Array}}})],Xc);var Vc=Xc;Vc.render=Ec;var Lc=Vc,$c=function(e){Object(f["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.txFunctionHash="",e.txFunction=mc.createNull(),e.getTxFunctionError="",e.turretsUrls=[],e.txFunctionRunParams={},e.xdrToken="",e.resultingTxRunXdr="",e.editableTurretUrl="",e.editIndex=0,e.isEditingTurretUrl=!1,e.isCreatingXdr=!1,e.isRunning=!1,e.isFetching=!1,e}return Object(h["a"])(n,[{key:"getTxFunction",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isFetching=!0,this.getTxFunctionError="",t=this.$store.state.turret,e.prev=3,e.next=6,jc(t,this.txFunctionHash);case 6:this.txFunction=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),this.getTxFunctionError=e.t0;case 12:this.isFetching=!1;case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveTurretUrl",value:function(){this.editableTurretUrl&&(this.isEditingTurretUrl&&-1!==this.editIndex?this.turretsUrls[this.editIndex]=this.editableTurretUrl:this.turretsUrls=[].concat(Object(ut["a"])(this.turretsUrls),[this.editableTurretUrl]),this.editableTurretUrl="",this.isEditingTurretUrl=!1)}},{key:"editTurretUrl",value:function(e){this.editableTurretUrl=e,this.editIndex=this.turretsUrls.indexOf(e),this.isEditingTurretUrl=!0}},{key:"deleteTurretUrl",value:function(e){for(var t=0;t<this.turretsUrls.length;t++)this.turretsUrls[t]===e&&this.turretsUrls.splice(t,1)}},{key:"runTxFunction",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isRunning=!0,t=Object(ut["a"])(this.turretsUrls),t.push(this.$store.state.turret.url),e.prev=3,e.next=6,fc(t,this.txFunctionHash,this.txFunctionRunParams,this.xdrToken,this.$store.state.turret.network);case 6:this.resultingTxRunXdr=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),this.resultingTxRunXdr=e.t0.message,e.t0 instanceof de&&(this.resultingTxRunXdr=e.t0.json);case 13:this.isRunning=!1;case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"createXdr",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isCreatingXdr=!0,e.next=3,Oe(this.$store.state.turret,this.$store.getters.keypair,"false",300,[this.txFunctionHash]);case 3:this.xdrToken=e.sent,this.isCreatingXdr=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(x["b"]);$c=Object(m["__decorate"])([Object(x["a"])({components:{TurretFieldsTable:Kt,AppButton:we,AppInput:mt,Card:q,JsonTreeView:br,TurretUrlList:Lc}})],$c);var Ac=$c;Ac.render=Oc;var Hc=Ac,Nc=[{path:"/",name:"Upload contract",component:rn},{path:"/xdr-token",name:"Manage xdr token",component:mr},{path:"/turret-funds",name:"Manage turret funds",component:Zr},{path:"/tx-functions",name:"View and run functions",component:Hc}],Pc=Object(Ee["a"])({history:Object(Ee["b"])("/tss-admin/"),routes:Nc}),Sc=Pc;Object(r["c"])(Ce).use(_e).use(Sc).mount("#app")}});
//# sourceMappingURL=app.2154434e.js.map